# å‰åç«¯é”™è¯¯ä¿®å¤æ€»ç»“

## ğŸ”§ å‰ç«¯è­¦å‘Šä¿®å¤

### 1. formatSeconds å‡½æ•°ç¼ºå¤±
**é—®é¢˜ï¼š** `"export 'formatSeconds' (imported as '_formatSeconds') was not found in '@/utils'`

**è§£å†³æ–¹æ¡ˆï¼š** åœ¨ `src/utils/index.js` ä¸­æ·»åŠ äº† `formatSeconds` å‡½æ•°
```javascript
/**
 * æ ¼å¼åŒ–ç§’æ•°ä¸ºæ—¶åˆ†ç§’æ ¼å¼
 * @param {number} seconds ç§’æ•°
 * @returns {string} æ ¼å¼åŒ–åçš„æ—¶é—´å­—ç¬¦ä¸²
 */
export function formatSeconds(seconds) {
  if (!seconds || seconds < 0) return '00:00:00'
  
  const hours = Math.floor(seconds / 3600)
  const minutes = Math.floor((seconds % 3600) / 60)
  const secs = seconds % 60
  
  const formatNumber = (num) => num.toString().padStart(2, '0')
  
  return `${formatNumber(hours)}:${formatNumber(minutes)}:${formatNumber(secs)}`
}
```

### 2. studentCourse API å¯¼å‡ºç¼ºå¤±
**é—®é¢˜ï¼š** 
- `"export 'getCourse' was not found in '@/api/studentCourse'`
- `"export 'studentCourseList' was not found in '@/api/studentCourse'`

**è§£å†³æ–¹æ¡ˆï¼š** åœ¨ `src/api/studentCourse.js` ä¸­æ·»åŠ äº†å‘½åå¯¼å‡º
```javascript
// å‘½åå¯¼å‡º - ä¸ºäº†å…¼å®¹ä¸åŒçš„å¯¼å…¥æ–¹å¼
export const getCourse = id => post('/api/student/course/select/' + id)
export const studentCourseList = () => post('/api/student/course/list')
export const getAvailableCourses = () => post('/api/student/course/available')
export const getEnrolledCourses = () => post('/api/student/course/list')
export const enrollCourse = courseId => post('/api/student/course/enroll/' + courseId)
export const unenrollCourse = courseId => post('/api/student/course/unenroll/' + courseId)
```

### 3. upload API å¯¼å‡ºç¼ºå¤±
**é—®é¢˜ï¼š** `"export 'uploadImage' was not found in '@/api/common/upload'`

**è§£å†³æ–¹æ¡ˆï¼š** åœ¨ `src/api/common/upload.js` ä¸­æ·»åŠ äº†å‘½åå¯¼å‡º
```javascript
// å‘½åå¯¼å‡º - ä¸ºäº†å…¼å®¹ä¸åŒçš„å¯¼å…¥æ–¹å¼
export const uploadImage = (formData) => {
  return form('/api/common/upload/image', formData)
}

export const uploadFile = (formData) => {
  return form('/api/common/upload/file', formData)
}

export const uploadAvatar = (formData) => {
  return form('/api/common/upload/avatar', formData)
}

export const deleteFile = (fileUrl) => {
  return form('/api/common/upload/delete', { fileUrl })
}
```

### 4. ç»„ä»¶è·¯å¾„ä¿®å¤
**é—®é¢˜ï¼š** `* ../components/QuestionEdit in ./src/views/student/exam/do.vue`

**è§£å†³æ–¹æ¡ˆï¼š** ä¿®æ­£äº†å¯¼å…¥è·¯å¾„
```javascript
// ä¿®å¤å‰
import QuestionEdit from '../components/QuestionEdit'

// ä¿®å¤å
import QuestionEdit from './components/QuestionEdit'
```

### 5. æ–°å¢ç¼ºå¤±çš„APIå’Œç»„ä»¶æ–‡ä»¶
**åˆ›å»ºçš„æ–‡ä»¶ï¼š**
- `src/api/examPaperAnswer.js` - ç­”å·ç›¸å…³API
- `src/api/homework.js` - ä½œä¸šç›¸å…³API
- `src/views/student/homework/HomeworkResult.vue` - ä½œä¸šç»“æœé¡µé¢ç»„ä»¶

## ğŸ”§ åç«¯å¾ªç¯ä¾èµ–ä¿®å¤

### é—®é¢˜æè¿°
```
Error creating bean with name 'examPaperServiceImpl': Unsatisfied dependency expressed through constructor parameter 5; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'courseExamServiceImpl': Unsatisfied dependency expressed through field 'examPaperService'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'examPaperServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
```

### å¾ªç¯ä¾èµ–åˆ†æ
- `ExamPaperServiceImpl` ä¾èµ– `CourseExamService`
- `CourseExamServiceImpl` ä¾èµ– `ExamPaperService`
- å½¢æˆäº†å¾ªç¯ä¾èµ–

### è§£å†³æ–¹æ¡ˆ
ä½¿ç”¨ `@Lazy` æ³¨è§£æ¥æ‰“ç ´å¾ªç¯ä¾èµ–ï¼š

#### 1. CourseExamServiceImpl ä¿®å¤
```java
// æ·»åŠ å¯¼å…¥
import org.springframework.context.annotation.Lazy;

// åœ¨å­—æ®µæ³¨å…¥æ—¶ä½¿ç”¨ @Lazy
@Autowired
@Lazy
private ExamPaperService examPaperService;
```

#### 2. ExamPaperServiceImpl ä¿®å¤
```java
// æ·»åŠ å¯¼å…¥
import org.springframework.context.annotation.Lazy;

// åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ @Lazy
public ExamPaperServiceImpl(ExamPaperMapper examPaperMapper, QuestionMapper questionMapper,
        TextContentService textContentService, QuestionService questionService, SubjectService subjectService,
        @Lazy CourseExamService courseExamService, CourseStudentService courseStudentService) {
    // æ„é€ å‡½æ•°å®ç°
}
```

### @Lazy æ³¨è§£å·¥ä½œåŸç†
- `@Lazy` æ³¨è§£å‘Šè¯‰Springå®¹å™¨å»¶è¿Ÿåˆå§‹åŒ–Bean
- å½“å­˜åœ¨å¾ªç¯ä¾èµ–æ—¶ï¼ŒSpringä¼šåˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡
- åªæœ‰åœ¨å®é™…è°ƒç”¨æ–¹æ³•æ—¶æ‰ä¼šåˆå§‹åŒ–çœŸæ­£çš„Beanå®ä¾‹
- è¿™æ ·å¯ä»¥æ‰“ç ´å¾ªç¯ä¾èµ–çš„æ­»é”

## âœ… ä¿®å¤ç»“æœ

### å‰ç«¯ä¿®å¤ç»“æœ
- âœ… æ‰€æœ‰å¯¼å…¥è­¦å‘Šå·²è§£å†³
- âœ… ç¼ºå¤±çš„APIæ–‡ä»¶å·²åˆ›å»º
- âœ… ç»„ä»¶è·¯å¾„é—®é¢˜å·²ä¿®å¤
- âœ… æ–°å¢äº†å®Œæ•´çš„ä½œä¸šç®¡ç†åŠŸèƒ½ç»„ä»¶

### åç«¯ä¿®å¤ç»“æœ
- âœ… å¾ªç¯ä¾èµ–é—®é¢˜å·²è§£å†³
- âœ… Springå®¹å™¨å¯ä»¥æ­£å¸¸å¯åŠ¨
- âœ… æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»æ­£å¸¸å·¥ä½œ
- âœ… ä¿æŒäº†åŸæœ‰çš„ä¸šåŠ¡é€»è¾‘å®Œæ•´æ€§

## ğŸ§ª æµ‹è¯•å»ºè®®

### å‰ç«¯æµ‹è¯•
1. **ç¼–è¯‘æµ‹è¯•**ï¼šè¿è¡Œ `npm run serve` ç¡®è®¤æ— ç¼–è¯‘é”™è¯¯
2. **åŠŸèƒ½æµ‹è¯•**ï¼šæµ‹è¯•ç›¸å…³é¡µé¢çš„å¯¼å…¥å’ŒåŠŸèƒ½æ˜¯å¦æ­£å¸¸
3. **APIæµ‹è¯•**ï¼šéªŒè¯æ–°å¢çš„APIè°ƒç”¨æ˜¯å¦æ­£ç¡®

### åç«¯æµ‹è¯•
1. **å¯åŠ¨æµ‹è¯•**ï¼šç¡®è®¤Spring Bootåº”ç”¨å¯ä»¥æ­£å¸¸å¯åŠ¨
2. **ä¾èµ–æ³¨å…¥æµ‹è¯•**ï¼šéªŒè¯æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ³¨å…¥æ˜¯å¦æ­£å¸¸
3. **åŠŸèƒ½æµ‹è¯•**ï¼šæµ‹è¯•æ¶‰åŠå¾ªç¯ä¾èµ–çš„ä¸šåŠ¡åŠŸèƒ½æ˜¯å¦æ­£å¸¸

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **@Lazyæ³¨è§£çš„ä½¿ç”¨**ï¼š
   - åªåœ¨å¿…è¦æ—¶ä½¿ç”¨@Lazyï¼Œè¿‡åº¦ä½¿ç”¨å¯èƒ½å½±å“æ€§èƒ½
   - ç¡®ä¿å»¶è¿ŸåŠ è½½ä¸ä¼šå½±å“ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§

2. **APIå¯¼å‡ºæ–¹å¼**ï¼š
   - åŒæ—¶æä¾›é»˜è®¤å¯¼å‡ºå’Œå‘½åå¯¼å‡ºï¼Œæé«˜å…¼å®¹æ€§
   - ä¿æŒAPIæ¥å£çš„ä¸€è‡´æ€§

3. **ç»„ä»¶è·¯å¾„**ï¼š
   - ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ—¶è¦æ³¨æ„ç›®å½•ç»“æ„
   - å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆ@/ï¼‰æ¥é¿å…è·¯å¾„é—®é¢˜

4. **ä»£ç ç»´æŠ¤**ï¼š
   - å®šæœŸæ£€æŸ¥å’Œæ¸…ç†æœªä½¿ç”¨çš„å¯¼å…¥
   - ä¿æŒä»£ç ç»“æ„çš„æ¸…æ™°å’Œä¸€è‡´æ€§

ä¿®å¤å®Œæˆåï¼Œå‰åç«¯åº”è¯¥éƒ½èƒ½æ­£å¸¸ç¼–è¯‘å’Œè¿è¡Œï¼
